{"remainingRequest":"/home/alijon/pet-projects/emphaSoft/node_modules/babel-loader/lib/index.js!/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/alijon/pet-projects/emphaSoft/src/components/CreateForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/alijon/pet-projects/emphaSoft/src/components/CreateForm.vue","mtime":1689050980107},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/babel-loader/lib/index.js","mtime":1687656704059},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js","mtime":1687656705759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvYWxpam9uL3BldC1wcm9qZWN0cy9lbXBoYVNvZnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGlqb24vcGV0LXByb2plY3RzL2VtcGhhU29mdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQXBwRmllbGQgZnJvbSAiLi9BcHBGaWVsZCI7CmltcG9ydCBBcHBDaGVja2JveCBmcm9tICIuL0FwcENoZWNrYm94IjsKLyoqCiAqIEBuYW1lIENyZWF0ZUZvcm0KICogQGRlc2NyaXB0aW9uIEZvcm0gY3JlYXRpb24gdXNlcgogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlRm9ybSIsCiAgY29tcG9uZW50czogewogICAgQXBwRmllbGQ6IEFwcEZpZWxkLAogICAgQXBwQ2hlY2tib3g6IEFwcENoZWNrYm94CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIGZvcm0gPSByZWFjdGl2ZSh7CiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAnZmlyc3RfbmFtZSc6ICcnLAogICAgICAnbGFzdF9uYW1lJzogJycsCiAgICAgICdpc19hY3RpdmUnOiBmYWxzZQogICAgfSk7CgogICAgdmFyIHRvZ2dsZU1vZGFsVmlzaWJsZSA9IGZ1bmN0aW9uIHRvZ2dsZU1vZGFsVmlzaWJsZShmbGFnKSB7CiAgICAgIHN0b3JlLmNvbW1pdCgnbW9kYWwvVE9HR0xFX01PREFMX1ZJU0lCTEUnLCBmbGFnKTsKICAgIH07CgogICAgdmFyIHN1Ym1pdEZvcm0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndXNlci9jcmVhdGVVc2VyJywgX29iamVjdFNwcmVhZCh7fSwgZm9ybSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoZm9ybSkpLCB7fSwgewogICAgICBjbG9zZUZvcm06IGZ1bmN0aW9uIGNsb3NlRm9ybSgpIHsKICAgICAgICByZXR1cm4gdG9nZ2xlTW9kYWxWaXNpYmxlKGZhbHNlKTsKICAgICAgfSwKICAgICAgc3VibWl0Rm9ybTogc3VibWl0Rm9ybQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/alijon/pet-projects/emphaSoft/src/components/CreateForm.vue"],"names":[],"mappings":";;;AA8CA,SAAQ,QAAR,EAAkB,MAAlB,QAA+B,KAA/B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,OAAO,QAAP,MAAqB,YAArB;AACA,OAAO,WAAP,MAAwB,eAAxB;AAEA;AACC;AACA;AACA;;AACD,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,QAAQ,EAAR,QAAD;AAAW,IAAA,WAAW,EAAX;AAAX,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,QAAQ,EAAE,EADU;AAEpB,MAAA,QAAQ,EAAE,EAFU;AAGpB,oBAAc,EAHM;AAIpB,mBAAa,EAJO;AAKpB,mBAAa;AALO,KAAD,CAArB;;AAQA,QAAM,kBAAiB,GAAI,SAArB,kBAAqB,CAAC,IAAD,EAAU;AACnC,MAAA,KAAK,CAAC,MAAN,CAAa,4BAAb,EAA2C,IAA3C;AACF,KAFA;;AAIA,QAAM,UAAS;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACX,KAAK,CAAC,QAAN,CAAe,iBAAf,oBAAsC,IAAtC,EADW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAT,UAAS;AAAA;AAAA;AAAA,OAAf;;AAIA,2CACK,MAAM,CAAC,IAAD,CADX;AAEE,MAAA,SAAS,EAAE;AAAA,eAAM,kBAAkB,CAAC,KAAD,CAAxB;AAAA,OAFb;AAGE,MAAA,UAAU,EAAV;AAHF;AAKD;AA1BY,CAAf","sourcesContent":["<template>\n  <form class=\"user-form fab-background\" @submit.prevent=\"submitForm\">\n    <div class=\"user-form__fields\">\n      <AppField\n          v-model=\"username\"\n          id=\"new-user-name\"\n          placeholder=\"Введите ваше имя\"\n          maxLength=\"150\"\n      >\n        Ник\n      </AppField>\n      <AppField\n          v-model=\"password\"\n          type=\"password\"\n          id=\"new-user-password\"\n          placeholder=\"Введите ваш пароль\"\n          maxLength=\"128\"\n      >\n        Пароль\n      </AppField>\n      <AppField\n          v-model=\"last_name\"\n          id=\"new-user-last-name\"\n          placeholder=\"Введите ваше фамилия\"\n          maxLength=\"150\"\n      >\n        Фамилия\n      </AppField>\n      <AppField\n          v-model=\"first_name\"\n          id=\"new-user-first-name\"\n          placeholder=\"Введите ваше имя\"\n          maxLength=\"150\"\n      >\n        Имя\n      </AppField>\n    </div>\n    <AppCheckbox v-model=\"is_active\">активный</AppCheckbox>\n    <div class=\"user-form__controls\">\n      <button type=\"submit\" class=\"btn _accent\">Создать</button>\n      <button type=\"button\" class=\"btn _danger\" @click=\"closeForm\">Закрыть</button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport {reactive, toRefs} from \"vue\";\nimport {useStore} from \"vuex\";\nimport AppField from \"./AppField\";\nimport AppCheckbox from \"./AppCheckbox\";\n\n/**\n * @name CreateForm\n * @description Form creation user\n */\nexport default {\n  name: \"CreateForm\",\n  components: {AppField, AppCheckbox},\n  setup() {\n    const store = useStore()\n    const form = reactive({\n      username: '',\n      password: '',\n      'first_name': '',\n      'last_name': '',\n      'is_active': false\n    })\n\n    const toggleModalVisible = (flag) => {\n      store.commit('modal/TOGGLE_MODAL_VISIBLE', flag)\n    }\n\n    const submitForm = async() => {\n      await store.dispatch('user/createUser', {...form})\n    }\n\n    return {\n      ...toRefs(form),\n      closeForm: () => toggleModalVisible(false),\n      submitForm,\n    }\n  },\n}\n</script>\n"],"sourceRoot":""}]}