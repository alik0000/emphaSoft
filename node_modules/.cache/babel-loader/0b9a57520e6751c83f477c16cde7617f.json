{"remainingRequest":"/home/alijon/pet-projects/test-on-vue-3/node_modules/babel-loader/lib/index.js!/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alijon/pet-projects/test-on-vue-3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/alijon/pet-projects/test-on-vue-3/src/components/UserList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/alijon/pet-projects/test-on-vue-3/src/components/UserList.vue","mtime":1677465751984},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js","mtime":1677358791790},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/babel-loader/lib/index.js","mtime":1677358791782},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js","mtime":1677358791790},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/vue-loader-v16/dist/index.js","mtime":1677358836761}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQXBwRmllbGQgZnJvbSAiLi9BcHBGaWVsZCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwovKioKICogQG5hbWUgVXNlckxpc3QKICogQGRlc2NyaXB0aW9uIExpc3Qgb2YgdXNlcgogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckxpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIEFwcEZpZWxkOiBBcHBGaWVsZAogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlOiB0cnVlCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIGNvbnNvbGUubG9nKCdwcm9wczogJywgcHJvcHMpOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBzZWFyY2hVc2VybmFtZSA9IHJlZignJyk7CiAgICB2YXIgdG9rZW4gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWyJsb2dpbi9Ub2tlbiJdOwogICAgfSk7CgogICAgdmFyIGNoYW5nZUxvYWRpbmcgPSBmdW5jdGlvbiBjaGFuZ2VMb2FkaW5nKGZsYWcpIHsKICAgICAgc3RvcmUuY29tbWl0KCdtb2RhbC9DSEFOR0VfTE9BRElORycsIGZsYWcpOwogICAgfTsKCiAgICBjb25zb2xlLmxvZygndXNlckxpc3RzOiAnLCBwcm9wcy5pdGVtcyk7CgogICAgdmFyIHVzZXJzID0gZnVuY3Rpb24gdXNlcnMoKSB7CiAgICAgIHJldHVybiBwcm9wcy5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgdXNlcm5hbWUgPSBfcmVmLnVzZXJuYW1lOwoKICAgICAgICBpZiAoISFzZWFyY2hVc2VybmFtZS52YWx1ZSkgewogICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2hVc2VybmFtZS52YWx1ZSwgJ2dpJyk7CiAgICAgICAgICByZXR1cm4gdXNlcm5hbWUubWF0Y2gocmVnZXgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKF9yZWYyLCBfcmVmMykgewogICAgICAgIHZhciBpZCA9IF9yZWYyLmlkOwogICAgICAgIHZhciBuZXh0SWQgPSBfcmVmMy5pZDsKICAgICAgICByZXR1cm4gaWQgLSBuZXh0SWQ7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgZWRpdCA9IGZ1bmN0aW9uIGVkaXQoaWQpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJ1c2VyIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFVzZXJuYW1lOiBzZWFyY2hVc2VybmFtZSwKICAgICAgdXNlcnM6IHVzZXJzLAogICAgICBlZGl0OiBlZGl0LAogICAgICB0b2tlbjogdG9rZW4KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/alijon/pet-projects/test-on-vue-3/src/components/UserList.vue"],"names":[],"mappings":";;;;;;AAqDA,SAAQ,QAAR,EAAkB,GAAlB,QAA4B,KAA5B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,OAAO,QAAP,MAAqB,YAArB;AACA,SAAQ,SAAR,QAAwB,YAAxB;AAEA;AACC;AACA;AACA;;AACD,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,QAAQ,EAAR;AAAD,GAFC;AAGb,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,KADD;AAEL,MAAA,OAAO,EAAE;AAFJ;AADF,GAHM;AASb,EAAA,KATa,iBASP,KATO,EASA;AACX,IAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,KAAvB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,cAAa,GAAI,GAAG,CAAC,EAAD,CAA1B;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,OAAN,CAAc,aAAd,CAAN;AAAA,KAAD,CAAtB;;AAEA,QAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,IAAD,EAAU;AAC9B,MAAA,KAAK,CAAC,MAAN,CAAa,sBAAb,EAAqC,IAArC;AACF,KAFA;;AAGA,IAAA,OAAO,CAAC,GAAR,CAAY,aAAZ,EAA2B,KAAK,CAAC,KAAjC;;AACA,QAAM,KAAI,GAAI,SAAR,KAAQ,GAAM;AAClB,aAAO,KAAK,CAAC,KAAN,CACF,MADE,CACK,gBAAgB;AAAA,YAAd,QAAc,QAAd,QAAc;;AAEtB,YAAI,CAAC,CAAC,cAAc,CAAC,KAArB,EAA4B;AAC1B,cAAM,KAAI,GAAI,IAAI,MAAJ,CAAW,cAAc,CAAC,KAA1B,EAAiC,IAAjC,CAAd;AACA,iBAAO,QAAQ,CAAC,KAAT,CAAe,KAAf,CAAP;AACF;;AAEA,eAAO,IAAP;AACD,OATE,EAUF,IAVE,CAUG;AAAA,YAAE,EAAF,SAAE,EAAF;AAAA,YAAY,MAAZ,SAAQ,EAAR;AAAA,eAAwB,EAAC,GAAI,MAA7B;AAAA,OAVH,CAAP;AAWF,KAZA;;AAcA,QAAM,IAAG,GAAI,SAAP,IAAO,CAAC,EAAD,EAAQ;AACnB,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAI,QAAN;AAAgB,QAAA,MAAM,EAAE;AAAC,UAAA,EAAE,EAAF;AAAD;AAAxB,OAAZ;AACF,KAFA;;AAIA,WAAO;AACL,MAAA,cAAc,EAAd,cADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,IAAI,EAAJ,IAHK;AAIL,MAAA,KAAK,EAAL;AAJK,KAAP;AAMD;AA5CY,CAAf","sourcesContent":["<template>\n  <div class=\"users\">\n    <div v-if=\"token\" class=\"users__filter\">\n      <AppField id=\"search-user-name\" placeholder=\"Введите имя пользователя\" v-model=\"searchUsername\">\n        Поиск по имени\n      </AppField>\n    </div>\n    <div v-if=\"token\" class=\"users__items\">\n      <table v-if=\"!!users.length\">\n        <thead>\n          <tr>\n            <th>Номер</th>\n            <th>Фамилия</th>\n            <th>Имя</th>\n            <th>Ник</th>\n            <th>Активный</th>\n            <th>Событие</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"({id, last_name, first_name, username, is_active}, index) in users\" :key=\"index\">\n            <td class=\"_center\">\n              <span>{{ id }}</span>\n            </td>\n            <td>{{ last_name }}</td>\n            <td>{{ first_name }}</td>\n            <td>{{ username }}</td>\n            <td>{{ is_active ? 'Да' : 'Нет' }}</td>\n            <td>\n              <button type=\"button\" class=\"btn _warning users__btn-edit\" @click=\"edit(id)\">\n                Редактирование\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div v-else class=\"users__undefined\">\n        <h2>Ничего не найдено</h2>\n      </div>\n    </div>\n    <div v-else class=\"users__not-able\">\n      <h3>Не доступно!</h3>\n      <p>\n        К сожалению, вы не авторизованы, для получения доступа вам необходимо авторизоваться по\n        <router-link to=\"/login\">\n          ссылке\n        </router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {computed, ref} from \"vue\";\nimport {useStore} from 'vuex'\nimport AppField from \"./AppField\";\nimport {useRouter} from \"vue-router\";\n\n/**\n * @name UserList\n * @description List of user\n */\nexport default {\n  name: \"UserList\",\n  components: {AppField},\n  props: {\n    items: {\n      type: Array,\n      require: true,\n    },\n  },\n  setup(props) {\n    console.log('props: ', props)\n    const store = useStore()\n    const router = useRouter()\n    const searchUsername = ref('')\n    const token = computed(() => store.getters[\"login/Token\"])\n\n    const changeLoading = (flag) => {\n      store.commit('modal/CHANGE_LOADING', flag)\n    }\n    console.log('userLists: ', props.items)\n    const users = () => {\n      return props.items\n          .filter(({username}) => {\n\n            if (!!searchUsername.value) {\n              const regex = new RegExp(searchUsername.value, 'gi');\n              return username.match(regex)\n            }\n\n            return true\n          })\n          .sort(({id}, {id: nextId}) => id - nextId)\n    }\n\n    const edit = (id) => {\n      router.push({ name: `user`, params: {id} })\n    }\n\n    return {\n      searchUsername,\n      users,\n      edit,\n      token,\n    }\n  },\n}\n</script>"],"sourceRoot":""}]}