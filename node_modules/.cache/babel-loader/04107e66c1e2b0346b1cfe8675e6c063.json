{"remainingRequest":"/home/alijon/pet-projects/emphaSoft/node_modules/babel-loader/lib/index.js!/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/alijon/pet-projects/emphaSoft/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/alijon/pet-projects/emphaSoft/src/views/Login.vue","mtime":1689050712717},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/babel-loader/lib/index.js","mtime":1687656704059},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js","mtime":1687656705759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpam9uL3BldC1wcm9qZWN0cy9lbXBoYVNvZnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBjb21wdXRlZCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFwcEZpZWxkIGZyb20gIi4uL2NvbXBvbmVudHMvQXBwRmllbGQudnVlIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIEFwcEZpZWxkOiBBcHBGaWVsZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciB1c2VybmFtZSA9IHJlZigndGVzdF9zdXBlcicpOwogICAgdmFyIHBhc3N3b3JkID0gcmVmKCdOZjxVNGY8ckRidER4QVBuJyk7CiAgICB2YXIgZXJyb3JNZXNzYWdlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1snbG9naW4vR2V0RXJyb3JNZXNzYWdlJ107CiAgICB9KTsKCiAgICB2YXIgbG9naW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISFlcnJvck1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdsb2dpbi9DTEVBUl9FUlJPUl9NRVNTQUdFJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2xvZ2luL2xvZ0luJywgewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudmFsdWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZC52YWx1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ3VzZXJzJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgaXNBYmxlOiBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICEhdXNlcm5hbWUudmFsdWUgJiYgISFwYXNzd29yZC52YWx1ZTsKICAgICAgfSksCiAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/alijon/pet-projects/emphaSoft/src/views/Login.vue"],"names":[],"mappings":";;AAuBA,SAAQ,QAAR,EAAkB,GAAlB,QAA4B,KAA5B;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,OAAO,QAAP,MAAqB,4BAArB;AACA,SAAQ,SAAR,QAAwB,YAAxB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,QAAQ,EAAR;AAAD,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,YAAD,CAApB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,kBAAD,CAApB;AAEA,QAAM,YAAW,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,OAAN,CAAc,uBAAd,CAAN;AAAA,KAAD,CAA7B;;AAEA,QAAM,KAAI;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AACZ,oBAAI,CAAC,CAAC,YAAN,EAAoB;AAClB,kBAAA,KAAK,CAAC,MAAN,CAAa,2BAAb;AACF;;AAHY;AAAA,uBAKN,KAAK,CAAC,QAAN,CAAe,aAAf,EAA8B;AAClC,kBAAA,QAAQ,EAAE,QAAQ,CAAC,KADe;AAElC,kBAAA,QAAQ,EAAE,QAAQ,CAAC;AAFe,iBAA9B,CALM;;AAAA;AAAA;AAAA,uBAUN,MAAM,CAAC,IAAP,CAAY;AAAC,kBAAA,IAAI,EAAE;AAAP,iBAAZ,CAVM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAJ,KAAI;AAAA;AAAA;AAAA,OAAV;;AAaA,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,QAAQ,EAAR,QAFK;AAGL,MAAA,MAAM,EAAE,QAAQ,CAAC;AAAA,eAAM,CAAC,CAAC,QAAQ,CAAC,KAAX,IAAoB,CAAC,CAAC,QAAQ,CAAC,KAArC;AAAA,OAAD,CAHX;AAIL,MAAA,KAAK,EAAL,KAJK;AAKL,MAAA,YAAY,EAAZ;AALK,KAAP;AAOD;AA/BY,CAAf","sourcesContent":["<template>\n  <keep-alive>\n    <div class=\"login\">\n      <form @submit.prevent=\"login\" class=\"login__form\">\n        <AppField v-model.trim=\"username\" id=\"login-user-name\">\n          Имя пользователя:\n        </AppField>\n\n        <AppField type=\"password\" v-model.trim=\"password\" id=\"login-user-password\">\n          Пароль:\n        </AppField>\n\n        <button type=\"submit\" :disabled=\"!isAble\" class=\"btn login__btn _accent\">\n          Вход\n        </button>\n\n        <span class=\"login__error\">{{ errorMessage }}</span>\n      </form>\n    </div>\n  </keep-alive>\n</template>\n\n<script>\nimport {computed, ref} from \"vue\";\nimport { useStore } from \"vuex\";\nimport AppField from \"../components/AppField.vue\";\nimport {useRouter} from \"vue-router\";\n\nexport default {\n  name: \"Login\",\n  components: {AppField},\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const username = ref('test_super')\n    const password = ref('Nf<U4f<rDbtDxAPn')\n\n    const errorMessage = computed(() => store.getters['login/GetErrorMessage'])\n\n    const login = async () => {\n      if (!!errorMessage) {\n        store.commit('login/CLEAR_ERROR_MESSAGE')\n      }\n\n      await store.dispatch('login/logIn', {\n        username: username.value,\n        password: password.value\n      })\n\n      await router.push({name: 'users'})\n    }\n\n    return {\n      username,\n      password,\n      isAble: computed(() => !!username.value && !!password.value),\n      login,\n      errorMessage,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.login {\n  display: block;\n  width: 50rem;\n  padding: 2.4rem;\n  border-radius: 3.2rem;\n  margin: 8rem auto 0;\n  background-color: var(--element-background);\n\n  &__form {\n    .field:not(:last-child) {\n      margin-bottom: 2.4rem;\n    }\n  }\n\n  &__btn {\n    margin-top: 3.2rem;\n  }\n\n  &__error {\n    display: inline-block;\n    margin-top: 2.4rem;\n    color: var(--error-color);\n\n    &:empty {\n      display: none;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}