{"remainingRequest":"/home/alijon/pet-projects/test-on-vue-3/node_modules/thread-loader/dist/cjs.js!/home/alijon/pet-projects/test-on-vue-3/node_modules/babel-loader/lib/index.js!/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alijon/pet-projects/test-on-vue-3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/alijon/pet-projects/test-on-vue-3/src/views/User.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/alijon/pet-projects/test-on-vue-3/src/views/User.vue","mtime":1677452234882},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js","mtime":1677358791790},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/thread-loader/dist/cjs.js","mtime":1677358791802},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/babel-loader/lib/index.js","mtime":1677358791782},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/cache-loader/dist/cjs.js","mtime":1677358791790},{"path":"/home/alijon/pet-projects/test-on-vue-3/node_modules/vue-loader-v16/dist/index.js","mtime":1677358836761}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpam9uL3BldC1wcm9qZWN0cy90ZXN0LW9uLXZ1ZS0zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvYWxpam9uL3BldC1wcm9qZWN0cy90ZXN0LW9uLXZ1ZS0zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBcHBTZWN0aW9uIGZyb20gIi4uL2NvbXBvbmVudHMvQXBwU2VjdGlvbi52dWUiOwppbXBvcnQgQXBwRmllbGQgZnJvbSAiLi4vY29tcG9uZW50cy9BcHBGaWVsZC52dWUiOwppbXBvcnQgQXBwQ2hlY2tib3ggZnJvbSAiLi4vY29tcG9uZW50cy9BcHBDaGVja2JveC52dWUiOwovKioNCiAqIEBuYW1lIEVkaXRGb3JtDQogKiBAZGVzY3JpcHRpb24gRm9ybSBlZGl0aW9uIHVzZXINCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyIiwKICBjb21wb25lbnRzOiB7CiAgICBBcHBTZWN0aW9uOiBBcHBTZWN0aW9uLAogICAgQXBwRmllbGQ6IEFwcEZpZWxkLAogICAgQXBwQ2hlY2tib3g6IEFwcENoZWNrYm94CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBUb2tlbjogJ2xvZ2luL1Rva2VuJwogIH0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGlkOiAnJywKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICdmaXJzdF9uYW1lJzogJycsCiAgICAgICAgJ2xhc3RfbmFtZSc6ICcnLAogICAgICAgICdpc19hY3RpdmUnOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGlkLCBfeWllbGQkYXhpb3MkZ2V0LCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLkNIQU5HRV9MT0FESU5HKHRydWUpOwoKICAgICAgICAgICAgICBpZCA9IF90aGlzLiRyb3V0ZS5wYXJhbXNbJ2lkJ107CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiaHR0cHM6Ly90ZXN0LWFzc2lnbm1lbnQuZW1waGFzb2Z0LmNvbS9hcGkvdjEvdXNlcnMvIi5jb25jYXQoaWQpLCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJUb2tlbiAiLmNvbmNhdChfdGhpcy5Ub2tlbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhOiAnLCBkYXRhKTsKICAgICAgICAgICAgICBfdGhpcy5mb3JtID0gZGF0YTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZm9ybTogJywgX3RoaXMuZm9ybSk7CgogICAgICAgICAgICAgIF90aGlzLkNIQU5HRV9MT0FESU5HKGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyh7CiAgICBDSEFOR0VfTE9BRElORzogJ21vZGFsL0NIQU5HRV9MT0FESU5HJwogIH0pKSwge30sIHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuQ0hBTkdFX0xPQURJTkcodHJ1ZSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyL2VkaXRVc2VyJywgX29iamVjdFNwcmVhZCh7fSwgdGhpcy5mb3JtKSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["/home/alijon/pet-projects/test-on-vue-3/src/views/User.vue"],"names":[],"mappings":";;;AAsDA,SAAQ,UAAR,EAAoB,YAApB,QAAuC,MAAvC;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,8BAAvB;AACA,OAAO,QAAP,MAAqB,4BAArB;AACA,OAAO,WAAP,MAAwB,+BAAxB;AACA;AACC;AACA;AACA;;AACD,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,UAAU,EAAV,UAAD;AAAa,IAAA,QAAQ,EAAR,QAAb;AAAuB,IAAA,WAAW,EAAX;AAAvB,GAFC;AAGb,EAAA,QAAQ,oBACH,UAAU,CAAC;AAAE,IAAA,KAAK,EAAE;AAAT,GAAD,CADP,CAHK;AAMb,EAAA,IANa,kBAMN;AACL,WAAO;AACL,MAAA,IAAI,EAAE;AACJ,QAAA,EAAE,EAAE,EADA;AAEJ,QAAA,QAAQ,EAAE,EAFN;AAGJ,QAAA,QAAQ,EAAE,EAHN;AAIJ,sBAAc,EAJV;AAKJ,qBAAa,EALT;AAMJ,qBAAa;AANT;AADD,KAAP;AAUD,GAjBY;AAkBP,EAAA,OAlBO,qBAkBG;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACd,cAAA,KAAI,CAAC,cAAL,CAAoB,IAApB;;AAEM,cAAA,EAHQ,GAGH,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,IAAnB,CAHG;AAAA;AAAA,qBAIS,KAAK,CAAC,GAAN,8DAAgE,EAAhE,GAAsE;AAC3F,gBAAA,OAAO,EAAE;AACP,kBAAA,aAAa,kBAAW,KAAI,CAAC,KAAhB;AADN;AADkF,eAAtE,CAJT;;AAAA;AAAA;AAIN,cAAA,IAJM,oBAIN,IAJM;AASd,cAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,IAAtB;AACA,cAAA,KAAI,CAAC,IAAL,GAAY,IAAZ;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,KAAI,CAAC,IAA3B;;AAEA,cAAA,KAAI,CAAC,cAAL,CAAoB,KAApB;;AAbc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcf,GAhCY;AAiCb,EAAA,OAAO,kCACF,YAAY,CAAC;AACd,IAAA,cAAc,EAAE;AADF,GAAD,CADV;AAIL,IAAA,UAJK,wBAIQ;AACX,WAAK,cAAL,CAAoB,IAApB;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,eAArB,oBAA0C,KAAK,IAA/C;AACF;AAPK;AAjCM,CAAf","sourcesContent":["<template>\r\n  <AppSection tag=\"section\">\r\n    <template #head>\r\n      <h1>Редактировать пользователя</h1>\r\n    </template>\r\n    <form class=\"user-form\" @submit.prevent=\"submitForm\">\r\n      <div class=\"user-form__fields\">\r\n        <AppField\r\n            v-model=\"form.username\"\r\n            :model-value=\"form.username\"\r\n            id=\"user-name\"\r\n            placeholder=\"Введите ваше имя\"\r\n            maxLength=\"150\"\r\n        >\r\n          Ник\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            id=\"user-password\"\r\n            placeholder=\"Введите ваш пароль\"\r\n            maxLength=\"128\"\r\n        >\r\n          Пароль\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"form.last_name\"\r\n            :model-value=\"form.last_name\"\r\n            id=\"last-name\"\r\n            placeholder=\"Введите ваше фамилия\"\r\n            maxLength=\"150\"\r\n        >\r\n          Фамилия\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"form.first_name\"\r\n            :model-value=\"form.first_name\"\r\n            id=\"first-name\"\r\n            placeholder=\"Введите ваше имя\"\r\n            maxLength=\"150\"\r\n        >\r\n          Имя\r\n        </AppField>\r\n      </div>\r\n      <AppCheckbox v-model=\"form.is_active\">активный</AppCheckbox>\r\n      <div class=\"user-form__controls\">\r\n        <button type=\"submit\" class=\"btn _accent\">Редактировать</button>\r\n        <router-link to=\"/users\" type=\"button\" class=\"btn _danger\">Назад</router-link>\r\n      </div>\r\n    </form>\r\n  </AppSection>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapMutations} from \"vuex\";\r\nimport axios from \"axios\";\r\nimport AppSection from \"../components/AppSection.vue\";\r\nimport AppField from \"../components/AppField.vue\";\r\nimport AppCheckbox from \"../components/AppCheckbox.vue\";\r\n/**\r\n * @name EditForm\r\n * @description Form edition user\r\n */\r\nexport default {\r\n  name: \"User\",\r\n  components: {AppSection, AppField, AppCheckbox},\r\n  computed: {\r\n    ...mapGetters({ Token: 'login/Token' })\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        id: '',\r\n        username: '',\r\n        password: '',\r\n        'first_name': '',\r\n        'last_name': '',\r\n        'is_active': false\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.CHANGE_LOADING(true)\r\n\r\n    const id = this.$route.params['id']\r\n    const { data } = await axios.get(`https://test-assignment.emphasoft.com/api/v1/users/${id}`, {\r\n      headers: {\r\n        Authorization: `Token ${this.Token}`\r\n      }\r\n    })\r\n    console.log('data: ', data)\r\n    this.form = data\r\n    console.log('form: ', this.form)\r\n\r\n    this.CHANGE_LOADING(false)\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      CHANGE_LOADING: 'modal/CHANGE_LOADING'\r\n    }),\r\n    submitForm() {\r\n      this.CHANGE_LOADING(true)\r\n      this.$store.dispatch('user/editUser', {...this.form})\r\n    }\r\n  }\r\n}\r\n</script>"],"sourceRoot":""}]}