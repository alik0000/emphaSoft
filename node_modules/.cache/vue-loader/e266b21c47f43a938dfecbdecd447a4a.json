{"remainingRequest":"/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/alijon/pet-projects/emphaSoft/src/views/User.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/alijon/pet-projects/emphaSoft/src/views/User.vue","mtime":1689054804317},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/babel-loader/lib/index.js","mtime":1687656704059},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/cache-loader/dist/cjs.js","mtime":1687656704219},{"path":"/home/alijon/pet-projects/emphaSoft/node_modules/vue-loader-v16/dist/index.js","mtime":1687656705759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge3JlZiwgb25Nb3VudGVkLCB0b1JlZnMsIHJlYWN0aXZlfSBmcm9tICJ2dWUiOw0KaW1wb3J0IHt1c2VTdG9yZX0gZnJvbSAidnVleCI7DQppbXBvcnQge3VzZVJvdXRlfSBmcm9tICJ2dWUtcm91dGVyIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgQXBwU2VjdGlvbiBmcm9tICIuLi9jb21wb25lbnRzL0FwcFNlY3Rpb24udnVlIjsNCmltcG9ydCBBcHBGaWVsZCBmcm9tICIuLi9jb21wb25lbnRzL0FwcEZpZWxkLnZ1ZSI7DQppbXBvcnQgQXBwQ2hlY2tib3ggZnJvbSAiLi4vY29tcG9uZW50cy9BcHBDaGVja2JveC52dWUiOw0KLyoqDQogKiBAbmFtZSBFZGl0Rm9ybQ0KICogQGRlc2NyaXB0aW9uIEZvcm0gZWRpdGlvbiB1c2VyDQogKi8NCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlVzZXIiLA0KICBjb21wb25lbnRzOiB7QXBwU2VjdGlvbiwgQXBwRmllbGQsIEFwcENoZWNrYm94fSwNCg0KICBzZXR1cCgpIHsNCiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCkNCiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCkNCiAgICBjb25zdCBpZCA9IHJlZihyb3V0ZS5wYXJhbXNbJ2lkJ10pDQogICAgbGV0IGZvcm0gPSByZWFjdGl2ZSh7DQogICAgICBpZCwNCiAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgIHBhc3N3b3JkOiAnJywNCiAgICAgICdmaXJzdF9uYW1lJzogJycsDQogICAgICAnbGFzdF9uYW1lJzogJycsDQogICAgICAnaXNfYWN0aXZlJzogZmFsc2UNCiAgICB9KQ0KDQogICAgY29uc3QgY2hhbmdlTG9hZGluZyA9IChmbGFnKSA9PiB7DQogICAgICBzdG9yZS5jb21taXQoJ21vZGFsL0NIQU5HRV9MT0FESU5HJywgZmxhZykNCiAgICB9DQoNCiAgICBvbk1vdW50ZWQoYXN5bmMgKCkgPT4gew0KICAgICAgY2hhbmdlTG9hZGluZyh0cnVlKQ0KDQogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS92MS91c2Vycy8ke2lkLnZhbHVlfWApDQoNCiAgICAgIE9iamVjdC5hc3NpZ24oZm9ybSwgey4uLmRhdGF9KQ0KICAgICAgY2hhbmdlTG9hZGluZyhmYWxzZSkNCiAgICB9KQ0KDQogICAgZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsNCiAgICAgIGNoYW5nZUxvYWRpbmcodHJ1ZSkNCiAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2VkaXRVc2VyJywgey4uLmZvcm0udmFsdWV9KQ0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICAuLi50b1JlZnMoZm9ybSksDQogICAgICBzdWJtaXRGb3JtDQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["/home/alijon/pet-projects/emphaSoft/src/views/User.vue"],"names":[],"mappings":";AAuDA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CA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","file":"/home/alijon/pet-projects/emphaSoft/src/views/User.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <AppSection tag=\"section\">\r\n    <template #head>\r\n      <h1>Редактировать пользователя</h1>\r\n    </template>\r\n    <form class=\"user-form\" @submit.prevent=\"submitForm\">\r\n      <div class=\"user-form__fields\">\r\n        <AppField\r\n            v-model=\"username\"\r\n            :model-value=\"username\"\r\n            id=\"user-name\"\r\n            placeholder=\"Введите ваше имя\"\r\n            maxLength=\"150\"\r\n        >\r\n          Ник\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"password\"\r\n            :model-value=\"password\"\r\n            type=\"password\"\r\n            id=\"user-password\"\r\n            placeholder=\"Введите ваш пароль\"\r\n            maxLength=\"128\"\r\n        >\r\n          Пароль\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"last_name\"\r\n            :model-value=\"last_name\"\r\n            id=\"last-name\"\r\n            placeholder=\"Введите ваше фамилия\"\r\n            maxLength=\"150\"\r\n        >\r\n          Фамилия\r\n        </AppField>\r\n        <AppField\r\n            v-model=\"first_name\"\r\n            :model-value=\"first_name\"\r\n            id=\"first-name\"\r\n            placeholder=\"Введите ваше имя\"\r\n            maxLength=\"150\"\r\n        >\r\n          Имя\r\n        </AppField>\r\n      </div>\r\n      <AppCheckbox v-model=\"is_active\">активный</AppCheckbox>\r\n      <div class=\"user-form__controls\">\r\n        <button type=\"submit\" class=\"btn _accent\">Редактировать</button>\r\n        <router-link to=\"/users\" type=\"button\" class=\"btn _danger\">Назад</router-link>\r\n      </div>\r\n    </form>\r\n  </AppSection>\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, toRefs, reactive} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {useRoute} from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport AppSection from \"../components/AppSection.vue\";\r\nimport AppField from \"../components/AppField.vue\";\r\nimport AppCheckbox from \"../components/AppCheckbox.vue\";\r\n/**\r\n * @name EditForm\r\n * @description Form edition user\r\n */\r\nexport default {\r\n  name: \"User\",\r\n  components: {AppSection, AppField, AppCheckbox},\r\n\r\n  setup() {\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const id = ref(route.params['id'])\r\n    let form = reactive({\r\n      id,\r\n      username: '',\r\n      password: '',\r\n      'first_name': '',\r\n      'last_name': '',\r\n      'is_active': false\r\n    })\r\n\r\n    const changeLoading = (flag) => {\r\n      store.commit('modal/CHANGE_LOADING', flag)\r\n    }\r\n\r\n    onMounted(async () => {\r\n      changeLoading(true)\r\n\r\n      const { data } = await axios.get(`/api/v1/users/${id.value}`)\r\n\r\n      Object.assign(form, {...data})\r\n      changeLoading(false)\r\n    })\r\n\r\n    function submitForm() {\r\n      changeLoading(true)\r\n      store.dispatch('user/editUser', {...form.value})\r\n    }\r\n\r\n    return {\r\n      ...toRefs(form),\r\n      submitForm\r\n    }\r\n  },\r\n}\r\n</script>\r\n"]}]}